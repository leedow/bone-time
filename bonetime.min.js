(function(){function Time(str){this.obj=null;this.time=0;this.year=0;this.month=0;this.date=0;this.hour=0;this.minute=0;this.second=0;this.init(str)}Time.prototype.init=function(str){if(typeof str=="string"){var d=str.split(" ");var d1=d[0].split("-");if(d1.length===1){d1=d[0].split("/")}this.year=parseInt(d1[0]);this.month=parseInt(d1[1]);this.date=parseInt(d1[2]);if(d[1]){var d2=d[1].split(":");this.hour=parseInt(d2[0]);this.minute=parseInt(d2[1]);this.second=parseInt(d2[2])}this.obj=new Date(this.year,this.month-1,this.date,this.hour,this.minute,this.second)}else{if(str instanceof Date){this.obj=str}else{this.obj=new Date}this.year=this.obj.getFullYear();this.month=this.obj.getMonth()+1;this.date=this.obj.getDate();this.hour=this.obj.getHours();this.minute=this.obj.getMinutes();this.second=this.obj.getSeconds()}};Time.prototype.equal=function(aim,min){var m=min||"date";var result=false;switch(m){case"date":{if(this.year===aim.year&&this.month===aim.month&&this.date===aim.date){result=true;break}}default:{result=false}}return result};Time.prototype.format=function(format){var result=format.replace("yyyy",this.year);result=result.replace("MM",this.month);result=result.replace("dd",this.date);result=result.replace("HH",this.hour);result=result.replace("mm",this.minute);result=result.replace("ss",this.second);return result};Time.prototype.transfer=function(param){var base=this.obj;var day=base.getDay()==0?7:base.getDay(),date=base.getDate(),month=base.getMonth(),year=base.getFullYear(),driver=filter(param),params={Mon:1,Tues:2,Wed:3,Thur:4,Fri:5,Sat:6,Sun:7};switch(driver.mode){case"Mon":case"Tues":case"Wed":case"Thur":case"Fri":case"Sat":{base.setDate(date-day+params[driver.mode]);return new Time(base);break}case"Sun":{base.setDate(date+(7-day));return new Time(base);break}case"days":{base.setDate(date+driver.value);return new Time(base);break}default:{return this}}function filter(str){var plus=true,correct=false,mode=str;if(/^\+\d+days$/g.test(str)){mode="days";correct=true;plus=true}if(/^\-\d+days$/g.test(str)){mode="days";correct=true;plus=false}return{value:parseInt(str),mode:mode}}};if(typeof module!="undefined"){module.exports=Time}else{window.bonetime=Time}})();